# TYPE  DATABASE        USER            ADDRESS                 METHOD

# Configuration sécurisée pour PostgreSQL
# Seules les connexions locales et du réseau Docker sont autorisées

# Connexions locales
local   all             all                                     trust
local   replication     all                                     trust

# Connexions IPv4 locales
host    all             all             127.0.0.1/32            scram-sha-256

# Connexions IPv6 locales  
host    all             all             ::1/128                 scram-sha-256

# Connexions depuis le réseau Docker interne (seulement le réseau meeting_network)
host    all             all             172.21.0.0/16           scram-sha-256

# Réplication depuis le réseau Docker
host    replication     all             172.21.0.0/16           scram-sha-256

# Refuser toutes les autres connexions
host    all             all             all                     reject